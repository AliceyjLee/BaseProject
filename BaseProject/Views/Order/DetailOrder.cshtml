@using BaseProject.Data.Enums;
@model Order_Model
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<!--start content-->
<main class="page-content">

    <div class="row">
        <div class="col-lg-8 mx-auto">
            <div class="card">
                <div class="card-header py-3 bg-transparent">
                    <h5 class="mb-0">주문 수정</h5>
                </div>
                <div class="card-body">
                    <div class="border p-3 rounded">
                        <form asp-controller="order" asp-action="update" method="post" class="row g-3">
                            <div class="col-12">
                                <label class="form-label">주문자</label>
                                <input type="text" class="form-control" name="Name" value="@Model.Customer" ">
                            </div>
                            <div class="col-12">
                                <label class="form-label">주문 등록 일자</label>
                                <input type="text" class="form-control" value="@Model.RegisterDate">
                            </div>
                            <div class="col-12">
                                <label class="form-label">주문 마감 일자</label>
                                <input type="text" class="form-control" name="EndDate" value="@Model.EndDate">
                            </div>
                            <div class="col-12">
                                <label class="form-label">주문 상태</label>
                                <select class="form-control" onselect="Deactivation" data-val="true" data-val-required="The Status field is required." id="Status" name="Status">
                                    <option value="0">Activation</option>
                                    <option selected="selected" value="1">Deactivation</option>
                                    <option value="2">Working</option>
                                </select>

                            <p></p>
                            <div>주문한 상품 목록</div>
                            <p></p>

                            @foreach(Order_Product_Model product in Model.OrderProducts)
                            {
                            <div class="col-12">
                                <label class="form-label">주문 상품</label>
                                    <div class="form-control" />@product.Product.Name</div>
                            <div class="col-12">
                                <label class="form-label">수량</label>
                                <input type="text" class="form-control" name="Count" value="@product.Quantity" />
                            </div>
                            }
                            <p></p>
                            <div class="col-12">
                                <a class="btn btn-primary px-4" href="/order/read">주문 수정</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div><!--end row-->

</main>
<!--end page main-->


@*<form asp-controller="order" asp-action="update" method="post">
    <div>주문자 : <input type="text" name="Name"  value="@Model.Customer" /></div>
    <div>상품등록 시간 : @Model.RegisterDate<input type="date" name="RegisterDate"  value="@Model.RegisterDate" /></div>
    <div>상품종료 시간 : @Model.EndDate<input type="date" name="EndDate" value="@Model.EndDate"></div>
    
    <select asp-for="Status" class="form-control" 
    asp-items="Html.GetEnumSelectList<StatusCategory>()"
        onselect="@Model.Status">
    </select>
    <p></p>
    <div>주문한 상품 목록</div>
    <p></p>
    @foreach(Order_Product_Model product in Model.OrderProducts)
    {
        <div>상품이름 : <input type="text" name="Name"  value="@product.Product.Name" /></div>
        <div>주문갯수 : <input type="text" name="Count"  value="@product.Quantity" /></div>
    }
    <button>주문수정</button>
</form>*@